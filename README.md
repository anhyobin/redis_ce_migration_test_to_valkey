# Redis 7.4.6 to ElastiCache for Valkey 8.2 Online Migration Test Environment

AWS ElastiCache Online Migration ê¸°ëŠ¥ì„ ê²€ì¦í•˜ê¸° ìœ„í•œ ì¢…í•©ì ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ì…ë‹ˆë‹¤. Redis 7.4.6ì—ì„œ ElastiCache for Valkey 8.2ë¡œì˜ ì˜¨ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥ì„±ì„ ì‹¤ì œ AWS í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“‹ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” AWS CDK(Cloud Development Kit) TypeScriptë¥¼ ì‚¬ìš©í•˜ì—¬ Redisì—ì„œ Valkeyë¡œì˜ ì˜¨ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ì™„ì „í•œ ì¸í”„ë¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ê³¼ ìœ ì‚¬í•œ ì„¤ì •ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í˜¸í™˜ì„±ì„ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

- **ì™„ì „ ìë™í™”ëœ ì¸í”„ë¼**: CDKë¥¼ í†µí•œ ì›í´ë¦­ ë°°í¬
- **í”„ë¡œë•ì…˜ ìœ ì‚¬ í™˜ê²½**: Multi-AZ, ë³´ì•ˆ ê·¸ë£¹, VPC ë“± ì‹¤ì œ í™˜ê²½ êµ¬ì„±
- **ì˜¨ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ìµœì í™”**: AWS ìš”êµ¬ì‚¬í•­ì— ë§ì¶˜ ì„¤ì •
- **ë³´ì•ˆ ì ‘ê·¼**: EC2 Instance Connect Endpointë¥¼ í†µí•œ ì•ˆì „í•œ ì ‘ê·¼
- **ì¢…í•© ëª¨ë‹ˆí„°ë§**: CloudWatch ë©”íŠ¸ë¦­ ë° ë¡œê¹… ì§€ì›

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    VPC                                      â”‚
â”‚                              10.0.0.0/16                                   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      Public Subnet A        â”‚    â”‚         Public Subnet B             â”‚ â”‚
â”‚  â”‚       10.0.1.0/24           â”‚    â”‚          10.0.3.0/24                â”‚ â”‚
â”‚  â”‚                             â”‚    â”‚                                     â”‚ â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚    â”‚                                     â”‚ â”‚
â”‚  â”‚    â”‚   NAT Gateway   â”‚      â”‚    â”‚                                     â”‚ â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚    â”‚                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     Private Subnet A        â”‚    â”‚        Private Subnet B             â”‚ â”‚
â”‚  â”‚       10.0.2.0/24           â”‚    â”‚          10.0.4.0/24                â”‚ â”‚
â”‚  â”‚                             â”‚    â”‚                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚       EC2           â”‚    â”‚    â”‚  â”‚     ElastiCache Valkey          â”‚â”‚ â”‚
â”‚  â”‚  â”‚   Redis 7.4.6       â”‚â—„â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”¤        8.2 Cluster              â”‚â”‚ â”‚
â”‚  â”‚  â”‚   t3.medium         â”‚    â”‚    â”‚  â”‚                                 â”‚â”‚ â”‚
â”‚  â”‚  â”‚                     â”‚    â”‚    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚  â”‚  â”‚ Primary Node (cache.t3.med) â”‚â”‚â”‚ â”‚
â”‚  â”‚                             â”‚    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚ â”‚
â”‚  â”‚  â”‚ EC2 Instance Connectâ”‚    â”‚    â”‚  â”‚  â”‚ Replica Node (cache.t3.med) â”‚â”‚â”‚ â”‚
â”‚  â”‚  â”‚     Endpoint        â”‚    â”‚    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚                          Migration Flow (Port 6379)                        â”‚
â”‚                     Redis â”€â”€â”€â”€â”€â”€Xâ”€â”€â”€â”€â”€â”€â–º ElastiCache                       â”‚
â”‚                           (RDB í˜¸í™˜ì„± ì‹¤íŒ¨)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|------|
| **Infrastructure** | AWS CDK | 2.215.0 | ì¸í”„ë¼ ì½”ë“œ ê´€ë¦¬ |
| **Language** | TypeScript | 5.9.3 | CDK êµ¬í˜„ ì–¸ì–´ |
| **Source Database** | Redis | 7.4.6 | ë§ˆì´ê·¸ë ˆì´ì…˜ ì›ë³¸ |
| **Target Database** | ElastiCache Valkey | 8.2 | ë§ˆì´ê·¸ë ˆì´ì…˜ ëŒ€ìƒ |
| **Compute** | Amazon EC2 | t3.medium | Redis í˜¸ìŠ¤íŒ… |
| **Cache** | ElastiCache | cache.t3.medium | Valkey í´ëŸ¬ìŠ¤í„° |
| **Network** | Amazon VPC | - | ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ |
| **Security** | Security Groups | - | ë°©í™”ë²½ ê·œì¹™ |
| **Access** | EC2 Instance Connect | - | ë³´ì•ˆ ì ‘ê·¼ |
| **Testing** | Jest | 29.7.0 | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ |

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Node.js**: 18.x ì´ìƒ
- **AWS CLI**: 2.x ì´ìƒ, êµ¬ì„± ì™„ë£Œ
- **AWS CDK**: 2.x ì´ìƒ (`npm install -g aws-cdk`)
- **AWS ê³„ì •**: ì ì ˆí•œ ê¶Œí•œ ì„¤ì •
- **Git**: ë²„ì „ ê´€ë¦¬

### ì„¤ì¹˜

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd valkey-migration

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 3. TypeScript ì»´íŒŒì¼
npm run build

# 4. CDK ë¶€íŠ¸ìŠ¤íŠ¸ë© (ìµœì´ˆ 1íšŒ)
cdk bootstrap
```

### ë°°í¬

```bash
# 1. CDK êµ¬ë¬¸ ê²€ì¦
cdk synth

# 2. ë³€ê²½ì‚¬í•­ í™•ì¸
cdk diff

# 3. ì¸í”„ë¼ ë°°í¬
cdk deploy

# ë°°í¬ ì™„ë£Œ í›„ ì¶œë ¥ê°’ í™•ì¸
# - EC2InstanceId: EC2 ì¸ìŠ¤í„´ìŠ¤ ID
# - RedisPrivateIp: Redis ì„œë²„ IP
# - ValkeyPrimaryEndpoint: ElastiCache ì—”ë“œí¬ì¸íŠ¸
# - ValkeyReplicationGroupId: ë§ˆì´ê·¸ë ˆì´ì…˜ìš© ê·¸ë£¹ ID
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸

```bash
# 1. EC2 ì¸ìŠ¤í„´ìŠ¤ ì ‘ì† (Instance Connect ì‚¬ìš©)
aws ec2-instance-connect send-ssh-public-key \
    --instance-id <EC2_INSTANCE_ID> \
    --availability-zone <AZ> \
    --instance-os-user ec2-user \
    --ssh-public-key file://~/.ssh/id_rsa.pub

ssh ec2-user@<REDIS_PRIVATE_IP>

# 2. Redis ìƒíƒœ í™•ì¸
redis-cli ping
redis-cli info replication

# 3. í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
redis-cli SET user:1 "Alice"
redis-cli SET user:2 "Bob"
redis-cli SET counter 100

# 4. ì˜¨ë¼ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œì‘
aws elasticache start-migration \
    --replication-group-id <REPLICATION_GROUP_ID> \
    --customer-node-endpoint-list "Address='<REDIS_PRIVATE_IP>',Port=6379" \
    --region us-east-1

# 5. ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
aws elasticache describe-replication-groups \
    --replication-group-id <REPLICATION_GROUP_ID>
```

### ì •ë¦¬

```bash
# ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì‚­ì œ
cdk destroy

# í™•ì¸ í”„ë¡¬í”„íŠ¸ì—ì„œ 'y' ì…ë ¥
```

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½

| í•­ëª© | ê²°ê³¼ | ìƒì„¸ |
|------|------|------|
| **ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ** | âŒ **ì‹¤íŒ¨** | RDB í¬ë§· ë¹„í˜¸í™˜ì„± |
| **í…ŒìŠ¤íŠ¸ ì¼ì‹œ** | 2026-01-18 21:00 KST | ì‹¤ì œ AWS í™˜ê²½ í…ŒìŠ¤íŠ¸ |
| **ì‹¤íŒ¨ ì›ì¸** | `invalid RDB received` | Redis 7.4.6 â†” Valkey 8.2 í˜¸í™˜ì„± ë¬¸ì œ |
| **ë„¤íŠ¸ì›Œí¬ ì—°ê²°** | âœ… ì„±ê³µ | ElastiCacheê°€ Redisì— ì •ìƒ ì—°ê²° |
| **ì¸ì¦/ë³´ì•ˆ** | âœ… ì„±ê³µ | ëª¨ë“  ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ì¶©ì¡± |
| **ë°ì´í„° ì „ì†¡** | âš ï¸ ë¶€ë¶„ ì„±ê³µ | RDB ì „ì†¡ ì™„ë£Œ, íŒŒì‹± ì‹¤íŒ¨ |

> ğŸ“– **ìƒì„¸ ë¶„ì„**: [í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¬¸ì„œ](./docs/test-result.md)ì—ì„œ ì „ì²´ ë¡œê·¸ì™€ ë¶„ì„ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.

## ğŸ”§ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
valkey-migration/
â”œâ”€â”€ bin/                    # CDK ì•± ì§„ì…ì 
â”‚   â””â”€â”€ valkey-migration.ts
â”œâ”€â”€ lib/                    # CDK ìŠ¤íƒ êµ¬í˜„
â”‚   â””â”€â”€ valkey-migration-stack.ts
â”œâ”€â”€ test/                   # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ valkey-migration.test.ts
â”œâ”€â”€ docs/                   # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ architecture.md     # ì•„í‚¤í…ì²˜ ìƒì„¸ ì„¤ëª…
â”‚   â”œâ”€â”€ development.md      # ê°œë°œ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ migration-guide.md  # ë§ˆì´ê·¸ë ˆì´ì…˜ ì ˆì°¨
â”‚   â”œâ”€â”€ progress.md         # í”„ë¡œì íŠ¸ ì§„í–‰ ìƒí™©
â”‚   â”œâ”€â”€ test-result.md      # í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¶„ì„
â”‚   â””â”€â”€ qa/                 # QA í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸
â”œâ”€â”€ cdk.json               # CDK ì„¤ì •
â”œâ”€â”€ package.json           # Node.js ì˜ì¡´ì„±
â”œâ”€â”€ tsconfig.json          # TypeScript ì„¤ì •
â””â”€â”€ README.md              # í”„ë¡œì íŠ¸ ê°œìš” (í˜„ì¬ íŒŒì¼)
```

## ğŸ“š ë¬¸ì„œ

- **[ì•„í‚¤í…ì²˜ ê°€ì´ë“œ](./docs/architecture.md)**: ì‹œìŠ¤í…œ ì„¤ê³„ ë° ì»´í¬ë„ŒíŠ¸ ìƒì„¸ ì„¤ëª…
- **[ê°œë°œ ê°€ì´ë“œ](./docs/development.md)**: ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì • ë° ì½”ë”© ì»¨ë²¤ì…˜
- **[ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ](./docs/migration-guide.md)**: ë‹¨ê³„ë³„ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ˆì°¨
- **[í…ŒìŠ¤íŠ¸ ê²°ê³¼](./docs/test-result.md)**: ì‹¤ì œ ë§ˆì´ê·¸ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë° ë¶„ì„
- **[ì§„í–‰ ìƒí™©](./docs/progress.md)**: í”„ë¡œì íŠ¸ ê°œë°œ íˆìŠ¤í† ë¦¬ ë° í˜„ì¬ ìƒíƒœ

## ğŸ” ìœ ìš©í•œ ëª…ë ¹ì–´

### ê°œë°œ ë° í…ŒìŠ¤íŠ¸

```bash
# TypeScript ì»´íŒŒì¼ (watch ëª¨ë“œ)
npm run watch

# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test

# CDK êµ¬ë¬¸ ê²€ì¦
cdk synth

# ë°°í¬ ì „ ë³€ê²½ì‚¬í•­ ë¯¸ë¦¬ë³´ê¸°
cdk diff
```

### AWS ë¦¬ì†ŒìŠ¤ ê´€ë¦¬

```bash
# ElastiCache í´ëŸ¬ìŠ¤í„° ìƒíƒœ í™•ì¸
aws elasticache describe-replication-groups \
    --replication-group-id <group-id>

# EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ í™•ì¸
aws ec2 describe-instances \
    --instance-ids <instance-id>

# CloudWatch ë¡œê·¸ í™•ì¸
aws logs describe-log-groups \
    --log-group-name-prefix "/aws/elasticache"
```

### Redis ê´€ë¦¬

```bash
# Redis ì„œë²„ ìƒíƒœ í™•ì¸
redis-cli info server

# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
redis-cli info memory

# ë³µì œ ìƒíƒœ í™•ì¸
redis-cli info replication

# ëª¨ë“  í‚¤ ì¡°íšŒ
redis-cli keys "*"
```

## âš ï¸ ì¤‘ìš” ê³ ë ¤ì‚¬í•­

### ë³´ì•ˆ

- **í…ŒìŠ¤íŠ¸ í™˜ê²½ ì „ìš©**: ì´ ì„¤ì •ì€ ë§ˆì´ê·¸ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë³´ì•ˆì´ ì™„í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤
- **í”„ë¡œë•ì…˜ ì ìš© ê¸ˆì§€**: ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì¶”ê°€ ë³´ì•ˆ ê°•í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤
- **ì ‘ê·¼ ì œí•œ**: EC2 Instance Connect Endpointë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤

### ë¹„ìš©

| ë¦¬ì†ŒìŠ¤ | íƒ€ì… | ì˜ˆìƒ ë¹„ìš© (ì›”ê°„) |
|--------|------|------------------|
| EC2 ì¸ìŠ¤í„´ìŠ¤ | t3.medium | ~$30 |
| ElastiCache | cache.t3.medium Ã— 2 | ~$60 |
| NAT Gateway | ë‹¨ì¼ AZ | ~$45 |
| ê¸°íƒ€ ë„¤íŠ¸ì›Œí‚¹ | VPC, ë³´ì•ˆ ê·¸ë£¹ ë“± | ~$5 |
| **ì´ ì˜ˆìƒ ë¹„ìš©** | | **~$140/ì›”** |

> âš¡ **ë¹„ìš© ì ˆì•½**: í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ì¦‰ì‹œ `cdk destroy`ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•˜ì„¸ìš”.

### ì œí•œì‚¬í•­

- **ë§ˆì´ê·¸ë ˆì´ì…˜ í˜¸í™˜ì„±**: Redis 7.4.6ê³¼ Valkey 8.2 ê°„ RDB í¬ë§· ë¹„í˜¸í™˜
- **ì§€ì› ë²„ì „**: AWS Online Migrationì€ íŠ¹ì • ë²„ì „ ë²”ìœ„ë§Œ ì§€ì›
- **ë°ì´í„° í¬ê¸°**: ëŒ€ìš©ëŸ‰ ë°ì´í„°ì…‹ì˜ ê²½ìš° ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œê°„ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŒ

## ğŸ”„ ëŒ€ì•ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ë°©ë²•

Redis 7.4.6ì—ì„œ ElastiCache Valkeyë¡œì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ í•„ìš”í•œ ê²½ìš°:

1. **Snapshot/Restore**: RDB ë¤í”„ë¥¼ S3ì— ì—…ë¡œë“œ í›„ ElastiCacheì—ì„œ ë³µì›
2. **Application-level**: ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ë°ì´í„° ë³µì‚¬
3. **redis-dump-load**: JSON í˜•íƒœë¡œ ë°ì´í„° ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°
4. **ë‹¨ê³„ì  ë§ˆì´ê·¸ë ˆì´ì…˜**: ì¤‘ê°„ ë²„ì „ì„ ê²½ìœ í•œ ì ì§„ì  ì—…ê·¸ë ˆì´ë“œ

## ğŸ“ ì§€ì› ë° ê¸°ì—¬

### ì´ìŠˆ ë¦¬í¬íŒ…

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ê°œì„  ì‚¬í•­ì´ ìˆë‹¤ë©´ GitHub Issuesë¥¼ í†µí•´ ì•Œë ¤ì£¼ì„¸ìš”:

1. ë¬¸ì œ ìƒí™© ìƒì„¸ ì„¤ëª…
2. ì¬í˜„ ë‹¨ê³„
3. ì˜ˆìƒ ê²°ê³¼ vs ì‹¤ì œ ê²°ê³¼
4. í™˜ê²½ ì •ë³´ (AWS ë¦¬ì „, CDK ë²„ì „ ë“±)

### ê¸°ì—¬ ë°©ë²•

1. Fork í›„ feature ë¸Œëœì¹˜ ìƒì„±
2. ë³€ê²½ì‚¬í•­ êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸
3. ë¬¸ì„œ ì—…ë°ì´íŠ¸
4. Pull Request ì œì¶œ

## ğŸ“– ì°¸ê³  ìë£Œ

### AWS ê³µì‹ ë¬¸ì„œ

- [ElastiCache Online Migration](https://docs.aws.amazon.com/AmazonElastiCache/latest/red-ug/OnlineMigration.html)
- [ElastiCache for Valkey](https://docs.aws.amazon.com/AmazonElastiCache/latest/val-ug/)
- [AWS CDK Developer Guide](https://docs.aws.amazon.com/cdk/v2/guide/)

### Redis/Valkey ë¬¸ì„œ

- [Redis Documentation](https://redis.io/documentation)
- [Valkey Documentation](https://valkey.io/docs/)
- [RDB File Format](https://github.com/sripathikrishnan/redis-rdb-tools/wiki/Redis-RDB-Dump-File-Format)

### ê´€ë ¨ ë„êµ¬

- [redis-cli](https://redis.io/docs/ui/cli/)
- [AWS CLI](https://aws.amazon.com/cli/)
- [CDK Toolkit](https://docs.aws.amazon.com/cdk/v2/guide/cli.html)

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

---

**âš¡ ë¹ ë¥¸ ì‹œì‘**: `npm install && npm run build && cdk deploy`

**ğŸ“§ ë¬¸ì˜**: í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ GitHub Issuesë¥¼ ì´ìš©í•´ ì£¼ì„¸ìš”.